<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        h2 { color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        h3 { color: #007bff; margin-top: 30px; }
        .actions { margin-bottom: 20px; }
        .actions a { color: green; text-decoration: none; font-weight: bold; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #f2f2f2; }
        td a, td input[type="submit"] { margin-right: 10px; text-decoration: none; padding: 5px 10px; border-radius: 4px; }
        td a { background-color: #007bff; color: white; }
        td input[type="submit"] { background-color: #dc3545; color: white; border: none; cursor: pointer; }
        .user-info a { margin-right: 15px; color: #333; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Bem-vindo, {{ session['username'] }}!</h2>
        
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for message in messages %}
              <div style="padding: 10px; background-color: #d4edda; color: #155724; margin-bottom: 20px; border-radius: 5px;">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <div class="user-info">
            <a href="{{ url_for('admin_logout') }}">Sair</a> |
            <a href="{{ url_for('homepage') }}">Ver Loja</a>
        </div>

        <h3 style="color: purple; margin-top: 20px;">Configura√ß√µes e Conte√∫do da Loja</h3>
        <div class="actions">
            <p><a href="{{ url_for('admin_configuracoes') }}" style="color: purple;">‚öôÔ∏è Editar Textos Institucionais e Contatos</a></p>
        </div>

        <h3>Gest√£o de Produtos</h3>
        <div class="actions">
            <p><a href="{{ url_for('admin_edit') }}" style="color: #28a745;">‚ûï Adicionar Novo Produto</a></p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Pre√ßo</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody>
                {% for produto in produtos %}
                <tr>
                    <td>{{ produto.id }}</td>
                    <td>{{ produto.nome }}</td>
                    <td>R$ {{ "%.2f"|format(produto.preco) }}</td>
                    <td>
                        <a href="{{ url_for('admin_edit', id_produto=produto.id) }}">Editar</a>
                        <form method="POST" action="{{ url_for('admin_delete', id_produto=produto.id) }}" style="display:inline;">
                            <input type="submit" value="Excluir" onclick="return confirm('Tem certeza que deseja excluir {{ produto.nome }} (ID: {{ produto.id }})?');">
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h3 style="margin-top: 50px;">Gest√£o de Clientes</h3>
        <div class="actions">
            <p><a href="{{ url_for('admin_clientes') }}" style="color: #007bff;">üë• Visualizar Clientes Cadastrados (Newsletter)</a></p>
        </div>

    </div>
</body>
</html>
